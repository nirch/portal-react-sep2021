{"version":3,"sources":["shared/server.js","shared/activeUserContext.js","pages/Login/LoginPage.js","components/navbar/PortalNavbar.js","pages/Courses/CoursesPage.js","pages/CourseDetails/CourseDetailsPage.js","pages/Users/UsersPage.js","pages/UserDetails/UserDetailsPage.js","pages/HoursReport/HoursReportPage.js","pages/HoursApprove/HoursApprovePage.js","App.js","reportWebVitals.js","index.js"],"names":["activeUser","data","type","a","token","undefined","v","request","method","url","phpDomain","JSON","stringify","headers","axios","response","server","ActiveUserContext","React","createContext","LoginPage","props","handleLogin","useState","email","setEmail","pwd","setPwd","useContext","to","Container","className","Form","Group","controlId","Label","Control","value","placeholder","onChange","e","target","Button","variant","onClick","pass","then","res","console","log","error","alert","err","PortalNavbar","handleLogout","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","CoursesPage","CourseDetailsPage","UsersPage","UserDetailsPage","HoursReportPage","HoursApprovePage","App","localStorage","parse","setActiveUser","removeItem","Provider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7acffb6b.chunk.js","sourcesContent":["import axios from \"axios\";\n\nasync function server(activeUser, data, type) {\n\n    const version = 2.3;\n    const phpDomain = 'https://pil1.appleseeds.org.il/dcnir/server/';\n    const imgsDomain = 'https://pil1.appleseeds.org.il/dcnir/';\n\n    // Adding the user's token to the payload\n    data.token = activeUser ? activeUser.token : undefined;\n\n    // Adding the version to the payload\n    data.v = version;\n\n    // creating the request\n    const request = {\n        method: \"post\",\n        url: phpDomain + \"datagate.php?type=\" + type,\n        data: JSON.stringify(data),\n        headers : { 'Content-Type': undefined},\n    }\n\n    const response = await axios(request);\n    return response;\n    // if (json && json.error == \"user not found\") {\n    //     loginStatus\t=false;\n    //     $rootScope.userToken = \"\";\n    //     $rootScope.isAdmin = false;\n    //     $state.transitionTo('login');\n    // }\n    // else if (json && json.error==\"access permission\")\n    // {\n    //     alert(json.error);\n    // }\n}\n\nexport default server;","import React from 'react'\n\nconst ActiveUserContext = React.createContext(null);\n\nexport default ActiveUserContext;\n","import React, { useState, useContext } from 'react';\nimport { Container, Form, Button } from 'react-bootstrap'\nimport './LoginPage.css'\nimport server from '../../shared/server'\nimport { Redirect } from 'react-router-dom'\nimport ActiveUserContext from '../../shared/activeUserContext'\n\nconst LoginPage = (props) => {\n    const { handleLogin } = props;\n    const [email, setEmail] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const activeUser = useContext(ActiveUserContext);\n\n    const login = () => {\n\n        if(!email || !pwd)\n\t\t{\n\t\t\talert(\"נא להזין פרטי משתמש\");\n\t\t\treturn;\n        }\n        \n        const data = {email, pass: pwd};\n        server(null, data, \"login\").then(res => {\n            console.log(res);\n            if (res.data.error) {\n                alert(\"error in login\");\n            } else {\n                handleLogin(res.data);\n            }\n        }, err => {\n            console.error(err);\n        })\n    }\n\n    if (activeUser) {\n        return <Redirect to='/courses' />\n    }\n\n    return (\n\n        <Container className=\"p-login\">\n            <h1>התחברות</h1>\n            <Form>\n                <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Label></Form.Label>\n                    <Form.Control value={email} type=\"email\" placeholder=\"אימייל\" onChange={e => setEmail(e.target.value)}/>\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword\">\n                    <Form.Label></Form.Label>\n                    <Form.Control value={pwd} type=\"password\" placeholder=\"סיסמה\" onChange={e => setPwd(e.target.value)}/>\n                </Form.Group>\n\n                <Button variant=\"primary\" type=\"button\" onClick={login}>\n                    התחבר\n                </Button>\n            </Form>\n        </Container>\n    );\n}\n\nexport default LoginPage;","import React from 'react';\nimport { Navbar, Nav } from 'react-bootstrap'\nimport './navbar.css'\n\nconst PortalNavbar = (props) => {\n    const { handleLogout } = props;\n\n    return (\n        <div className=\"c-navbar\">\n            <Navbar bg=\"light\" expand=\"lg\">\n                <Navbar.Brand href=\"/\">פורטל תפוח</Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                        <Nav.Link href=\"#/courses\">קורסים</Nav.Link>\n                        <Nav.Link href=\"#/users\">משתמשים</Nav.Link>\n                        <Nav.Link href=\"#/hours-report\">דיווח שעות</Nav.Link>\n                        <Nav.Link href=\"#/hours-approve\">אישור שעות</Nav.Link>\n                        <Nav.Link onClick={handleLogout}>התנתקות</Nav.Link>\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        </div>\n    );\n}\n\nexport default PortalNavbar;","import React, { useContext } from 'react';\nimport './CoursesPage.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\nimport ActiveUserContext from '../../shared/activeUserContext'\nimport { Redirect } from 'react-router-dom'\n\nconst CoursesPage = (props) => {\n    const { handleLogout } = props;\n    const activeUser = useContext(ActiveUserContext);\n    \n    if (!activeUser) {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div className=\"p-courses\">\n            <PortalNavbar handleLogout={handleLogout}/>\n            <h1>קורסים</h1>\n        </div>\n    );\n}\n\nexport default CoursesPage;","import React, { useContext } from 'react';\nimport './CourseDetailsPage.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\nimport ActiveUserContext from '../../shared/activeUserContext'\nimport { Redirect } from 'react-router-dom'\n\nconst CourseDetailsPage = (props) => {\n    const { handleLogout } = props;\n    const activeUser = useContext(ActiveUserContext);\n    \n    if (!activeUser) {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div className=\"p-course-details\">\n            <PortalNavbar handleLogout={handleLogout}/>\n            <h1>פרטי קורס</h1>\n        </div>\n    );\n}\n\nexport default CourseDetailsPage;","import React, { useContext } from 'react';\nimport './UsersPage.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\nimport ActiveUserContext from '../../shared/activeUserContext'\nimport { Redirect } from 'react-router-dom'\n\nconst UsersPage = (props) => {\n    const { handleLogout } = props;\n    const activeUser = useContext(ActiveUserContext);\n    \n    if (!activeUser) {\n        return <Redirect to='/' />\n    }\n    \n    return (\n        <div className=\"p-users\">\n            <PortalNavbar handleLogout={handleLogout}/>\n            <h1>משתמשים</h1>\n        </div>\n    );\n}\n\nexport default UsersPage;","import React, { useContext } from 'react';\nimport './UserDetailsPage.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\nimport ActiveUserContext from '../../shared/activeUserContext'\nimport { Redirect } from 'react-router-dom'\n\nconst UserDetailsPage = (props) => {\n    const { handleLogout } = props;\n    const activeUser = useContext(ActiveUserContext);\n    \n    if (!activeUser) {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div className=\"p-user-details\">\n            <PortalNavbar handleLogout={handleLogout}/>\n            <h1>פרטי משתמש</h1>\n        </div>\n    );\n}\n\nexport default UserDetailsPage;","import React, { useContext } from 'react';\nimport './HoursReportPage.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\nimport ActiveUserContext from '../../shared/activeUserContext'\nimport { Redirect } from 'react-router-dom'\n\nconst HoursReportPage = (props) => {\n    const { handleLogout } = props;\n    const activeUser = useContext(ActiveUserContext);\n    \n    if (!activeUser) {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div className=\"p-hours-report\">\n            <PortalNavbar handleLogout={handleLogout}/>\n            <h1>דיווח שעות</h1>\n        </div>\n    );\n}\n\nexport default HoursReportPage;","import React, { useContext } from 'react';\nimport './HoursApprovePage.css'\nimport PortalNavbar from '../../components/navbar/PortalNavbar';\nimport ActiveUserContext from '../../shared/activeUserContext'\nimport { Redirect } from 'react-router-dom'\n\nconst HoursApprovePage = (props) => {\n    const { handleLogout } = props;\n    const activeUser = useContext(ActiveUserContext);\n    \n    if (!activeUser) {\n        return <Redirect to='/' />\n    }\n\n    return (\n        <div className=\"p-hours-approve\">\n            <PortalNavbar handleLogout={handleLogout}/>\n            <h1>אישור שעות</h1>\n        </div>\n    );\n}\n\nexport default HoursApprovePage;","import React, { useState } from 'react';\nimport { Switch, Route } from 'react-router-dom'\nimport LoginPage from './pages/Login/LoginPage'\nimport CoursesPage from './pages/Courses/CoursesPage'\nimport CourseDetailsPage from './pages/CourseDetails/CourseDetailsPage'\nimport UsersPage from './pages/Users/UsersPage'\nimport UserDetailsPage from './pages/UserDetails/UserDetailsPage'\nimport HoursReportPage from './pages/HoursReport/HoursReportPage'\nimport HoursApprovePage from './pages/HoursApprove/HoursApprovePage'\nimport ActiveUserContext from './shared/activeUserContext'\n\nimport './App.css';\n\nconst App = () => {\n\n  const [activeUser, setActiveUser] = useState(localStorage.activeUser ? JSON.parse(localStorage.activeUser) : null);\n\n  const handleLogin = (activeUser) => {\n    setActiveUser(activeUser);\n    localStorage.activeUser = JSON.stringify(activeUser);\n  }\n\n  const handleLogout = () => {\n    setActiveUser(null);\n    localStorage.removeItem(\"activeUser\");\n  }\n\n  return (\n    <ActiveUserContext.Provider value={activeUser}>\n      <Switch>\n        <Route exact path=\"/\">\n          <LoginPage handleLogin={handleLogin} />\n        </Route>\n        <Route exact path=\"/courses\">\n          <CoursesPage handleLogout={handleLogout}/>\n        </Route>\n        <Route path=\"/courses/:id\">\n          <CourseDetailsPage handleLogout={handleLogout}/>\n        </Route>\n        <Route exact path=\"/users\">\n          <UsersPage handleLogout={handleLogout}/>\n        </Route>\n        <Route path=\"/users/:id\">\n          <UserDetailsPage handleLogout={handleLogout}/>\n        </Route>\n        <Route path=\"/hours-report\">\n          <HoursReportPage handleLogout={handleLogout}/>\n        </Route>\n        <Route path=\"/hours-approve\">\n          <HoursApprovePage handleLogout={handleLogout}/>\n        </Route>\n      </Switch>\n    </ActiveUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}